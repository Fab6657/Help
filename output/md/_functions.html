<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Functions</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_syntax.html" title="Syntax"><link rel="prev" href="_constants.html" title="Constants"><link rel="next" href="_labels.html" title="Labels"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_functions"></a>Functions</h3></div></div></div><p><span class="strong"><strong>About Functions</strong></span></p><p>Functions are a special type of subroutine that can return a value. This
means that when the name of the function is used in the place of a
variable, GCBASIC will call the function, get a value from it, and then
put the value into the line of code in the place of the variable.</p><p>Functions may also have parameters - these are treated in exactly the
same way as parameters for subroutines. The only exception is that
brackets are required around any parameters when calling a function.</p><p><span class="strong"><strong>Using Functions</strong></span></p><p>This program uses a function called <code class="literal">AverageAD</code> to take two analog
readings, and then make a decision based on the average:</p><pre class="screen">    'Select chip
    #chip 16F88, 20

    'Define ports
    #define LED PORTB.0
    #define Sensor AN0

    'Set port directions
    dir LED out
    dir PORTA.0 in

    'Main code
    Do
    Set PORTB.0 Off
    If AverageAD &gt; 128 Then Set PORTB.0 On
    wait 10 ms
    Loop

    Function AverageAD
    'Get 2 readings, divide by 2, store in AverageAD
    'Note the cast, the result of ReadAD needs to be converted to
    'a word before adding, or the result may overflow.
    AverageAD = ([word]ReadAD(Sensor) + ReadAD(Sensor)) / 2
    end function</pre><p><span class="strong"><strong>See Also</strong></span> <a class="link" href="_subroutines.html" title="Subroutines">Subroutines</a>, <a class="link" href="_exit.html" title="Exit">Exit</a></p></div></body></html>